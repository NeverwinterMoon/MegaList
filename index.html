<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Megalist by triceam</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>Megalist</h1>
        <p>JavaScript List component, capable of very large datasets, with data virtualization</p>

        <p class="view"><a href="https://github.com/triceam/MegaList">View the Project on GitHub <small>triceam/MegaList</small></a></p>


        <ul>
          <li><a href="https://github.com/triceam/MegaList/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/triceam/MegaList/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/triceam/MegaList">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <h1>MegaList</h1>

<h2>Introduction</h2>

<p>Megalist is a jQuery plugin that creates a touch-enabled list component, capable of very large datasets, complete with data virtualization.   It was originally intended for touch-enabled devices, however it also works in many desktop browsers.</p>

<p>For performance optimizations, the list component uses data virtualization techniques, so there are never more list elements in the HTML DOM than what is currently visible on the screen. As the user scrolls through content, the list updates the DOM elements accordingly. This makes scrolling lists of thousands of items extremely fluid.</p>

<p>There are two methods that the list component can be used.  One option is to declare the list structure in HTML markup, another option is to specify a dataProvider array, from which the list will create DOM elements.</p>

<hr/>
<h2>Samples</h2>

<p>View the "samples" directory to see the scrollable list component in action.  All samples are interactive, and scrollable via touch or mouse events, with function event handlers.</p>

<p>Simple List Created With Inline LI elements</p>
<ul>
<li><a href="http://triceam.github.com/MegaList/bin/samples/01%20-%20simple%20inline%20data.html">View Sample</a></li>
<li><a href="https://github.com/triceam/MegaList/blob/master/samples/01%20-%20simple%20inline%20data.html">View Source</a></li>
</ul>

<p>Simple List Created With A DataProvider of 100,000 items:</p>
<ul>
<li><a href="http://triceam.github.com/MegaList/bin/samples/02%20-%20simple%20dataprovider.html">View Sample</a></li>
<li><a href="https://github.com/triceam/MegaList/blob/master/samples/02%20-%20simple%20dataprovider.html">View Source</a></li>
</ul>

<p>Styled Dynamic List Created With Remote Data:</p>
<ul>
<li><a href="http://triceam.github.com/MegaList/bin/samples/03%20-%20styled%20list.html">View Sample</a></li>
<li><a href="https://github.com/triceam/MegaList/blob/master/samples/03%20-%20styled%20list.html">View Source</a></li>
</ul>

<hr/>
<h2>API</h2>

<h3>Methods</h3>

<table>
<tr>
<th>Event</th>
   <th>Description</th>
 </tr>
<tr>
<td>.megalist()</td>
   <td>Initializes a list component.</td>
 </tr>
<tr>
<td>.megalist('setDataProvider', dataProviderArray)</td>
   <td>Initializes a list component.</td>
 </tr>
<tr>
<td>.megalist('setLabelFunction', labelFunction)</td>
   <td>Sets the data provider array for the list instance.  There is no concrete limit on the length of the data provider array.  Elements within the array can be of primitive or complex types.</td>
 </tr>
<tr>
<td>.megalist('setSelectedIndex', index)</td>
   <td>Set the item at selected index as selected.</td>
 </tr>
<tr>
<td>.megalist('getSelectedIndex', index)</td>
   <td>Returns the currently selected index.  If no list item is selected, returns -1.</td>
 </tr>
<tr>
<td>.megalist('clearSelectedIndex', index)</td>
   <td>Clears the currently selected item in the list.</td>
 </tr>
</table><h3>Events</h3>

<p>Megalist exposes a change event for handling when the selected item in the list changes.</p>

<table>
<tr>
<th>Event</th>
   <th>Description</th>
 </tr>
<tr>
<td>change</td>
   <td>This event is fired when the selected item in the list is changed.  You can access details of the selected item in the list by accessing attributes of the event.  
    <strong>event.index</strong>
    The numeric index for the item in the list that was clicked/touched.
    <strong>event.srcElement</strong>
    A jQuery reference to the list item that was clicked/touched.
    <strong>event.item</strong>
    A reference to the data item for the list item.  If using inline &lt;li&gt; in markup, this will be the same DOM element as event.srcElement.  If using a dataProvider, it will be the object in the dataProvider array corresponding to the selected list item.</td>
 </tr>
</table>


<h2>Observations</h2>

<ul>
<li style="padding-bottom:10px;">Contrary to my expectations, using CSS3 translate3d is actually slower than using CSS top/left when placing the virtualized content.  If you enable CSS3 translate3d and set backface visibility, there is an extremely noticeable performance degradation on both desktop and mobile devices.</li>

<li style="padding-bottom:10px;">I've experimented with lots of permutations to get the best performance possible.  I'm not finished yet, but I've found that you can achieve significantly faster performance of DOM manipulation by removing elements from the DOM, manipulating them, then re-adding them.   This is what is done within the updateLayout() method.  The &lt;ul&gt; is removed from the DOM, &lt;li&gt; elements are added or removed, and then the &lt;ul&gt; is added back to the DOM.  You may see a flicker on rare occasions, but I didn't find this overly intrusive.</li>

<li style="padding-bottom:10px;">For small data sets, this may not be much advantage - you can get better performance by just using something like iScroll in a &lt;div&gt; containing a &lt;ul&gt;.  With large data sets, this is definitely faster.</li>

<li style="padding-bottom:10px;">The more complex the HTML inside of your label function, the slower the animation will be.</li>
</ul>



      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/triceam">triceam</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
    
  </body>
</html>